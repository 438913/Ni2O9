The program in this branch modifies variational.py to track information about the state.
